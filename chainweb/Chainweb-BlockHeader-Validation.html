<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Chainweb.BlockHeader.Validation</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">chainweb-0.2: A Proof-of-Work Parallel-Chain Architecture for Massive Throughput</span><ul class="links" id="page-menu"><li><a href="src/Chainweb.BlockHeader.Validation.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Copyright &#169; 2019 Kadena LLC.</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>Lars Kuhtz &lt;lars@kadena.io&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Chainweb.BlockHeader.Validation</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Validation Failures</a></li><li><a href="#g:2">Validation functions</a></li><li><a href="#g:3">Intrinsic BlockHeader Properties</a></li><li><a href="#g:4">Inductive BlockHeader Properties</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>TODO</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ValidationFailure">ValidationFailure</a> = <a href="#v:ValidationFailure">ValidationFailure</a> {<ul class="subs"><li><a href="#v:_validateFailureParent">_validateFailureParent</a> :: !(<a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a>)</li><li><a href="#v:_validateFailureHeader">_validateFailureHeader</a> :: !<a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></li><li><a href="#v:_validationFailureFailures">_validationFailureFailures</a> :: ![<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ValidationFailureType">ValidationFailureType</a><ul class="subs"><li>= <a href="#v:MissingParent">MissingParent</a></li><li>| <a href="#v:CreatedBeforeParent">CreatedBeforeParent</a></li><li>| <a href="#v:VersionMismatch">VersionMismatch</a></li><li>| <a href="#v:ChainMismatch">ChainMismatch</a></li><li>| <a href="#v:IncorrectHash">IncorrectHash</a></li><li>| <a href="#v:IncorrectPow">IncorrectPow</a></li><li>| <a href="#v:IncorrectHeight">IncorrectHeight</a></li><li>| <a href="#v:IncorrectWeight">IncorrectWeight</a></li><li>| <a href="#v:IncorrectTarget">IncorrectTarget</a></li><li>| <a href="#v:IncorrectEpoch">IncorrectEpoch</a></li><li>| <a href="#v:IncorrectGenesisParent">IncorrectGenesisParent</a></li><li>| <a href="#v:IncorrectGenesisTarget">IncorrectGenesisTarget</a></li><li>| <a href="#v:BlockInTheFuture">BlockInTheFuture</a></li><li>| <a href="#v:IncorrectPayloadHash">IncorrectPayloadHash</a></li><li>| <a href="#v:MissingPayload">MissingPayload</a></li></ul></li><li class="src short"><a href="#v:definiteValidationFailures">definiteValidationFailures</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</li><li class="src short"><a href="#v:isDefinite">isDefinite</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>] -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:ephemeralValidationFailures">ephemeralValidationFailures</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</li><li class="src short"><a href="#v:isEphemeral">isEphemeral</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>] -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:validateBlockHeader">validateBlockHeader</a> :: <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</li><li class="src short"><a href="#v:validateBlockHeaderM">validateBlockHeaderM</a> :: MonadThrow m =&gt; <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; m ()</li><li class="src short"><a href="#v:isValidBlockHeader">isValidBlockHeader</a> :: <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:validateIntrinsic">validateIntrinsic</a> :: <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</li><li class="src short"><a href="#v:validateInductive">validateInductive</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</li><li class="src short"><a href="#v:validateBlockParentExists">validateBlockParentExists</a> :: <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; (<a href="Chainweb-BlockHash.html#t:BlockHash" title="Chainweb.BlockHash">BlockHash</a> -&gt; m (<a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a>)) -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; m (<a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a>)</li><li class="src short"><a href="#v:validateBlocksM">validateBlocksM</a> :: MonadThrow m =&gt; <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a> -&gt; (<a href="Chainweb-BlockHash.html#t:BlockHash" title="Chainweb.BlockHash">BlockHash</a> -&gt; m (<a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a>)) -&gt; HashMap <a href="Chainweb-BlockHash.html#t:BlockHash" title="Chainweb.BlockHash">BlockHash</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; m ()</li><li class="src short"><a href="#v:prop_block_pow">prop_block_pow</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_hash">prop_block_hash</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_genesis_parent">prop_block_genesis_parent</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_genesis_target">prop_block_genesis_target</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_target">prop_block_target</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_epoch">prop_block_epoch</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_height">prop_block_height</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_weight">prop_block_weight</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_chainwebVersion">prop_block_chainwebVersion</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_chainId">prop_block_chainId</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:prop_block_creationTime">prop_block_creationTime</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Validation Failures</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ValidationFailure" class="def">ValidationFailure</a> <a href="src/Chainweb.BlockHeader.Validation.html#ValidationFailure" class="link">Source</a> <a href="#t:ValidationFailure" class="selflink">#</a></p><div class="doc"><p>A data type that describes a failure of validating a block header.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ValidationFailure" class="def">ValidationFailure</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_validateFailureParent" class="def">_validateFailureParent</a> :: !(<a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_validateFailureHeader" class="def">_validateFailureHeader</a> :: !<a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_validationFailureFailures" class="def">_validationFailureFailures</a> :: ![<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ValidationFailure">Instances</h4><details id="i:ValidationFailure" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationFailure:Show:1"></span> <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailure" title="Chainweb.BlockHeader.Validation">ValidationFailure</a></span> <a href="src/Chainweb.BlockHeader.Validation.html#line-80" class="link">Source</a> <a href="#t:ValidationFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationFailure:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Chainweb-BlockHeader-Validation.html">Chainweb.BlockHeader.Validation</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailure" title="Chainweb.BlockHeader.Validation">ValidationFailure</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailure" title="Chainweb.BlockHeader.Validation">ValidationFailure</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailure" title="Chainweb.BlockHeader.Validation">ValidationFailure</a>] -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationFailure:Exception:2"></span> <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/base-4.13.0.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailure" title="Chainweb.BlockHeader.Validation">ValidationFailure</a></span> <a href="src/Chainweb.BlockHeader.Validation.html#line-151" class="link">Source</a> <a href="#t:ValidationFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationFailure:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Chainweb-BlockHeader-Validation.html">Chainweb.BlockHeader.Validation</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailure" title="Chainweb.BlockHeader.Validation">ValidationFailure</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/base-4.13.0.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/base-4.13.0.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailure" title="Chainweb.BlockHeader.Validation">ValidationFailure</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailure" title="Chainweb.BlockHeader.Validation">ValidationFailure</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ValidationFailureType" class="def">ValidationFailureType</a> <a href="src/Chainweb.BlockHeader.Validation.html#ValidationFailureType" class="link">Source</a> <a href="#t:ValidationFailureType" class="selflink">#</a></p><div class="doc"><p>An enumeration of possible validation failures for a block header.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MissingParent" class="def">MissingParent</a></td><td class="doc"><p>Parent isn't in the database</p></td></tr><tr><td class="src"><a id="v:CreatedBeforeParent" class="def">CreatedBeforeParent</a></td><td class="doc"><p>Claims to be created at a time prior to its parent's creation</p></td></tr><tr><td class="src"><a id="v:VersionMismatch" class="def">VersionMismatch</a></td><td class="doc"><p>Claims to use a version of chainweb different from that of its
 parent</p></td></tr><tr><td class="src"><a id="v:ChainMismatch" class="def">ChainMismatch</a></td><td class="doc"><p>Claims to use a chain-id different from that of its parent</p></td></tr><tr><td class="src"><a id="v:IncorrectHash" class="def">IncorrectHash</a></td><td class="doc"><p>The hash of the header properties as computed by computeBlockHash
 does not match the hash given in the header</p></td></tr><tr><td class="src"><a id="v:IncorrectPow" class="def">IncorrectPow</a></td><td class="doc"><p>The POW hash of the header does not match the POW target of the
 block.</p></td></tr><tr><td class="src"><a id="v:IncorrectHeight" class="def">IncorrectHeight</a></td><td class="doc"><p>The given height is not one more than the parent height</p></td></tr><tr><td class="src"><a id="v:IncorrectWeight" class="def">IncorrectWeight</a></td><td class="doc"><p>The given weight is not the sum of the target difficulty and the
 parent's weight</p></td></tr><tr><td class="src"><a id="v:IncorrectTarget" class="def">IncorrectTarget</a></td><td class="doc"><p>The given target of the block is not correct. The target of the
 first block of an epoch is the adjusted target of the previous epoch.
 For all other blocks the target equals the target of the parent
 block.</p></td></tr><tr><td class="src"><a id="v:IncorrectEpoch" class="def">IncorrectEpoch</a></td><td class="doc"><p>The epoch start time value of the block is incorrect. The epoch
 start time of the first block of an epoch equals the block creation
 time of that block. For all other blocks the epoch start time equls
 the epoch start time of the parent block.</p></td></tr><tr><td class="src"><a id="v:IncorrectGenesisParent" class="def">IncorrectGenesisParent</a></td><td class="doc"><p>The block is a genesis block, but doesn't have its parent set to
 its own hash.</p></td></tr><tr><td class="src"><a id="v:IncorrectGenesisTarget" class="def">IncorrectGenesisTarget</a></td><td class="doc"><p>The block is a genesis block, but doesn't have the correct
 POW target.</p></td></tr><tr><td class="src"><a id="v:BlockInTheFuture" class="def">BlockInTheFuture</a></td><td class="doc"><p>The creation time of the block is in the future.</p></td></tr><tr><td class="src"><a id="v:IncorrectPayloadHash" class="def">IncorrectPayloadHash</a></td><td class="doc"><p>The validation of the payload hash failed.</p></td></tr><tr><td class="src"><a id="v:MissingPayload" class="def">MissingPayload</a></td><td class="doc"><p>The payload for the block is missing.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ValidationFailureType">Instances</h4><details id="i:ValidationFailureType" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationFailureType:Eq:1"></span> <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Eq" title="Distribution.Compat.Prelude.Internal">Eq</a> <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a></span> <a href="src/Chainweb.BlockHeader.Validation.html#line-149" class="link">Source</a> <a href="#t:ValidationFailureType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationFailureType:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Chainweb-BlockHeader-Validation.html">Chainweb.BlockHeader.Validation</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationFailureType:Ord:2"></span> <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Ord" title="Distribution.Compat.Prelude.Internal">Ord</a> <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a></span> <a href="src/Chainweb.BlockHeader.Validation.html#line-149" class="link">Source</a> <a href="#t:ValidationFailureType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationFailureType:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Chainweb-BlockHeader-Validation.html">Chainweb.BlockHeader.Validation</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Ordering" title="Distribution.Compat.Prelude.Internal">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationFailureType:Show:3"></span> <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a></span> <a href="src/Chainweb.BlockHeader.Validation.html#line-149" class="link">Source</a> <a href="#t:ValidationFailureType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ValidationFailureType:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Chainweb-BlockHeader-Validation.html">Chainweb.BlockHeader.Validation</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> -&gt; <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>] -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:definiteValidationFailures" class="def">definiteValidationFailures</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>] <a href="src/Chainweb.BlockHeader.Validation.html#definiteValidationFailures" class="link">Source</a> <a href="#v:definiteValidationFailures" class="selflink">#</a></p><div class="doc"><p>The list of validation failures that are definite and independent of any
 external context. A block for which validation fails with one of these
 failures must be dicarded.</p><p>No node on the chainweb-web network should propgate blocks with these
 failures. If a block is received that causes a definite validation failures
 is receveived from a chainweb-node, that chainweb-node should be
 blacklisted/removed in the peer database.</p></div></div><div class="top"><p class="src"><a id="v:isDefinite" class="def">isDefinite</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>] -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Chainweb.BlockHeader.Validation.html#isDefinite" class="link">Source</a> <a href="#v:isDefinite" class="selflink">#</a></p><div class="doc"><p>Predicate that checks whether a validation failure is definite.</p></div></div><div class="top"><p class="src"><a id="v:ephemeralValidationFailures" class="def">ephemeralValidationFailures</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>] <a href="src/Chainweb.BlockHeader.Validation.html#ephemeralValidationFailures" class="link">Source</a> <a href="#v:ephemeralValidationFailures" class="selflink">#</a></p><div class="doc"><p>The list of ephemaral validation failures. These failure depend on a local
 context and validation may succeed in the future.</p><p>In case of <code><a href="Chainweb-BlockHeader-Validation.html#v:BlockInTheFuture" title="Chainweb.BlockHeader.Validation">BlockInTheFuture</a></code> validation <em>will</em> eventually succeed.</p></div></div><div class="top"><p class="src"><a id="v:isEphemeral" class="def">isEphemeral</a> :: [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>] -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Chainweb.BlockHeader.Validation.html#isEphemeral" class="link">Source</a> <a href="#v:isEphemeral" class="selflink">#</a></p><div class="doc"><p>A predicate that checks whether a validation failure is ephemeral.</p></div></div><a href="#g:2" id="g:2"><h1>Validation functions</h1></a><div class="top"><p class="src"><a id="v:validateBlockHeader" class="def">validateBlockHeader</a> <a href="src/Chainweb.BlockHeader.Validation.html#validateBlockHeader" class="link">Source</a> <a href="#v:validateBlockHeader" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a></td><td class="doc"><p>The current clock time</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent block header. The genesis header is considered its own parent.</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>The block header to be checked</p></td></tr><tr><td class="src">-&gt; [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</td><td class="doc"><p>A list of ways in which the block header isn't valid</p></td></tr></table></div><div class="doc"><p>Validate properties of the block header, producing a list of the validation
 failures.</p><p>This doesn't include checks for</p><ul><li>MissingPayload</li><li>MissingParent</li><li>IncorrectPayloadHash</li></ul></div></div><div class="top"><p class="src"><a id="v:validateBlockHeaderM" class="def">validateBlockHeaderM</a> <a href="src/Chainweb.BlockHeader.Validation.html#validateBlockHeaderM" class="link">Source</a> <a href="#v:validateBlockHeaderM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: MonadThrow m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a></td><td class="doc"><p>The current clock time</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent block header. The genesis header is considered its own parent.</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>The block header to be checked</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Validate properties of the block header, throwing an exception detailing
 the failures if any.</p><ul><li>MissingPayload</li><li>MissingParent</li><li>IncorrectPayloadHash</li></ul></div></div><div class="top"><p class="src"><a id="v:isValidBlockHeader" class="def">isValidBlockHeader</a> <a href="src/Chainweb.BlockHeader.Validation.html#isValidBlockHeader" class="link">Source</a> <a href="#v:isValidBlockHeader" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a></td><td class="doc"><p>The current clock time</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent block header. The genesis header is considered its own parent.</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>The block header to be checked</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Check whether a BlockHeader satisfies all validaiton properties.</p><ul><li>MissingPayload</li><li>MissingParent</li><li>IncorrectPayloadHash</li></ul></div></div><div class="top"><p class="src"><a id="v:validateIntrinsic" class="def">validateIntrinsic</a> <a href="src/Chainweb.BlockHeader.Validation.html#validateIntrinsic" class="link">Source</a> <a href="#v:validateIntrinsic" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a></td><td class="doc"><p>The current clock time</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>block header to be validated</p></td></tr><tr><td class="src">-&gt; [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</td><td class="doc"><p>A list of ways in which the block header isn't valid</p></td></tr></table></div><div class="doc"><p>Validates properties of a block which are checkable from the block header
 without observing the remainder of the database.</p></div></div><div class="top"><p class="src"><a id="v:validateInductive" class="def">validateInductive</a> <a href="src/Chainweb.BlockHeader.Validation.html#validateInductive" class="link">Source</a> <a href="#v:validateInductive" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent block header. The genesis header is considered its own parent.</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>Block header under scrutiny</p></td></tr><tr><td class="src">-&gt; [<a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a>]</td><td class="doc"><p>A list of ways in which the block header isn't valid</p></td></tr></table></div><div class="doc"><p>Validate properties of a block with respect to a given parent.</p></div></div><div class="top"><p class="src"><a id="v:validateBlockParentExists" class="def">validateBlockParentExists</a> :: <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m =&gt; (<a href="Chainweb-BlockHash.html#t:BlockHash" title="Chainweb.BlockHash">BlockHash</a> -&gt; m (<a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a>)) -&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; m (<a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a> <a href="Chainweb-BlockHeader-Validation.html#t:ValidationFailureType" title="Chainweb.BlockHeader.Validation">ValidationFailureType</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a>) <a href="src/Chainweb.BlockHeader.Validation.html#validateBlockParentExists" class="link">Source</a> <a href="#v:validateBlockParentExists" class="selflink">#</a></p><div class="doc"><p>Validate that the parent exist with the given lookup function.</p><p>Returns the parent if it exists. Throws an error otherwise.</p></div></div><div class="top"><p class="src"><a id="v:validateBlocksM" class="def">validateBlocksM</a> <a href="src/Chainweb.BlockHeader.Validation.html#validateBlocksM" class="link">Source</a> <a href="#v:validateBlocksM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: MonadThrow m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Chainweb-Time.html#t:Time" title="Chainweb.Time">Time</a> <a href="Chainweb-Time.html#t:Micros" title="Chainweb.Time">Micros</a></td><td class="doc"><p>The current clock time</p></td></tr><tr><td class="src">-&gt; (<a href="Chainweb-BlockHash.html#t:BlockHash" title="Chainweb.BlockHash">BlockHash</a> -&gt; m (<a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a>))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; HashMap <a href="Chainweb-BlockHash.html#t:BlockHash" title="Chainweb.BlockHash">BlockHash</a> <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Validate a set of blocks that may depend on each other.</p><ul><li>MissingPayload</li><li>IncorrectPayloadHash</li></ul></div></div><a href="#g:3" id="g:3"><h1>Intrinsic BlockHeader Properties</h1></a><div class="top"><p class="src"><a id="v:prop_block_pow" class="def">prop_block_pow</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_pow" class="link">Source</a> <a href="#v:prop_block_pow" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:prop_block_hash" class="def">prop_block_hash</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_hash" class="link">Source</a> <a href="#v:prop_block_hash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:prop_block_genesis_parent" class="def">prop_block_genesis_parent</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_genesis_parent" class="link">Source</a> <a href="#v:prop_block_genesis_parent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:prop_block_genesis_target" class="def">prop_block_genesis_target</a> :: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a> -&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_genesis_target" class="link">Source</a> <a href="#v:prop_block_genesis_target" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:prop_block_target" class="def">prop_block_target</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_target" class="link">Source</a> <a href="#v:prop_block_target" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent header of the checked block header</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>the block header that is checked</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:4" id="g:4"><h1>Inductive BlockHeader Properties</h1></a><div class="top"><p class="src"><a id="v:prop_block_epoch" class="def">prop_block_epoch</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_epoch" class="link">Source</a> <a href="#v:prop_block_epoch" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent header of the checked block header</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>the block header that is checked</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:prop_block_height" class="def">prop_block_height</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_height" class="link">Source</a> <a href="#v:prop_block_height" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent header of the checked block header</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>the block header that is checked</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:prop_block_weight" class="def">prop_block_weight</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_weight" class="link">Source</a> <a href="#v:prop_block_weight" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent header of the checked block header</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>the block header that is checked</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:prop_block_chainwebVersion" class="def">prop_block_chainwebVersion</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_chainwebVersion" class="link">Source</a> <a href="#v:prop_block_chainwebVersion" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent header of the checked block header</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>the block header that is checked</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:prop_block_chainId" class="def">prop_block_chainId</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_chainId" class="link">Source</a> <a href="#v:prop_block_chainId" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent header of the checked block header</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>the block header that is checked</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:prop_block_creationTime" class="def">prop_block_creationTime</a> <a href="src/Chainweb.BlockHeader.Validation.html#prop_block_creationTime" class="link">Source</a> <a href="#v:prop_block_creationTime" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>parent header of the checked block header</p></td></tr><tr><td class="src">-&gt; <a href="Chainweb-BlockHeader.html#t:BlockHeader" title="Chainweb.BlockHeader">BlockHeader</a></td><td class="doc"><p>the block header that is checked</p></td></tr><tr><td class="src">-&gt; <a href="file:///opt/ghc/8.8.1/share/doc/ghc-8.8.1/html/libraries/Cabal-3.0.0.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>